[gd_scene load_steps=7 format=3 uid="uid://bldwuuh7wlwo4"]

[ext_resource type="Script" path="res://Scripts/UI/SkillTree/skill_tree.gd" id="1_8t5s4"]
[ext_resource type="PackedScene" uid="uid://6odsri1xhnxe" path="res://Scenes/UI/SkillButton.tscn" id="1_ktm1k"]
[ext_resource type="PackedScene" uid="uid://bwe3lcumnockc" path="res://Scenes/UI/UnlockedSkill.tscn" id="2_tv0a0"]
[ext_resource type="Texture2D" uid="uid://c8d0j7t4n614e" path="res://icon.svg" id="4_khrgn"]

[sub_resource type="LabelSettings" id="LabelSettings_qo8s5"]
font_size = 24
outline_size = 8
outline_color = Color(0, 0, 0, 1)

[sub_resource type="LabelSettings" id="LabelSettings_8hkcs"]
font_size = 20
outline_size = 4
outline_color = Color(0, 0, 0, 1)

[node name="SkillTree" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_8t5s4")

[node name="HBoxContainer" type="HBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ContainerUnlocked" type="PanelContainer" parent="HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="Background" type="ColorRect" parent="HBoxContainer/ContainerUnlocked"]
layout_mode = 2
color = Color(0, 0.157659, 0.347832, 1)

[node name="UnlockedSkillsVBox" type="VBoxContainer" parent="HBoxContainer/ContainerUnlocked"]
layout_mode = 2
alignment = 1

[node name="UnlockedFireSkill" parent="HBoxContainer/ContainerUnlocked/UnlockedSkillsVBox" instance=ExtResource("2_tv0a0")]
layout_mode = 2
size_flags_horizontal = 4

[node name="UnlockedWaterSkill" parent="HBoxContainer/ContainerUnlocked/UnlockedSkillsVBox" instance=ExtResource("2_tv0a0")]
layout_mode = 2
size_flags_horizontal = 4

[node name="UnlockedPlantSkill" parent="HBoxContainer/ContainerUnlocked/UnlockedSkillsVBox" instance=ExtResource("2_tv0a0")]
layout_mode = 2
size_flags_horizontal = 4

[node name="UnlockedRockSkill" parent="HBoxContainer/ContainerUnlocked/UnlockedSkillsVBox" instance=ExtResource("2_tv0a0")]
layout_mode = 2
size_flags_horizontal = 4

[node name="UnlockedIceSkill" parent="HBoxContainer/ContainerUnlocked/UnlockedSkillsVBox" instance=ExtResource("2_tv0a0")]
layout_mode = 2
size_flags_horizontal = 4

[node name="UnlockedLightSkill" parent="HBoxContainer/ContainerUnlocked/UnlockedSkillsVBox" instance=ExtResource("2_tv0a0")]
layout_mode = 2
size_flags_horizontal = 4

[node name="UnlockedShadowSkill" parent="HBoxContainer/ContainerUnlocked/UnlockedSkillsVBox" instance=ExtResource("2_tv0a0")]
layout_mode = 2
size_flags_horizontal = 4

[node name="VBoxContainer" type="VBoxContainer" parent="HBoxContainer"]
clip_contents = true
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 2.0

[node name="Background2" type="ColorRect" parent="HBoxContainer/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
color = Color(0, 0.157659, 0.347832, 1)

[node name="AspectRatioContainer" type="AspectRatioContainer" parent="HBoxContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 10.0

[node name="CenterContainer" type="CenterContainer" parent="HBoxContainer/VBoxContainer/AspectRatioContainer"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 10.0

[node name="Center" type="Control" parent="HBoxContainer/VBoxContainer/AspectRatioContainer/CenterContainer"]
layout_mode = 2

[node name="Base" parent="HBoxContainer/VBoxContainer/AspectRatioContainer/CenterContainer/Center" instance=ExtResource("1_ktm1k")]
layout_mode = 0
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0

[node name="Fire" parent="HBoxContainer/VBoxContainer/AspectRatioContainer/CenterContainer/Center/Base" node_paths=PackedStringArray("unlocked_skill_button") instance=ExtResource("1_ktm1k")]
layout_mode = 0
offset_left = 80.0
offset_right = 120.0
skill_name = "Fire Mastery I"
skill_description = "+ 10 Damage"
skill_element = 1
unlocked_skill_button = NodePath("../../../../../../ContainerUnlocked/UnlockedSkillsVBox/UnlockedFireSkill")

[node name="Fire" parent="HBoxContainer/VBoxContainer/AspectRatioContainer/CenterContainer/Center/Base/Fire" node_paths=PackedStringArray("unlocked_skill_button") instance=ExtResource("1_ktm1k")]
layout_mode = 0
offset_left = 80.0
offset_right = 120.0
skill_name = "Fire Mastery II"
skill_description = "+ 20 Damage"
skill_element = 1
skill_level = 2
unlocked_skill_button = NodePath("../../../../../../../ContainerUnlocked/UnlockedSkillsVBox/UnlockedFireSkill")

[node name="Fire" parent="HBoxContainer/VBoxContainer/AspectRatioContainer/CenterContainer/Center/Base/Fire/Fire" node_paths=PackedStringArray("unlocked_skill_button") instance=ExtResource("1_ktm1k")]
layout_mode = 0
offset_left = 80.0
offset_right = 120.0
skill_name = "Fire Mastery III"
skill_description = "+ 30 Damage"
skill_element = 1
skill_level = 3
unlocked_skill_button = NodePath("../../../../../../../../ContainerUnlocked/UnlockedSkillsVBox/UnlockedFireSkill")

[node name="Water" parent="HBoxContainer/VBoxContainer/AspectRatioContainer/CenterContainer/Center/Base" node_paths=PackedStringArray("unlocked_skill_button") instance=ExtResource("1_ktm1k")]
layout_mode = 0
offset_left = -80.0
offset_right = -40.0
skill_name = "Water Mastery I"
skill_description = "+ 25% Mana"
skill_element = 2
unlocked_skill_button = NodePath("../../../../../../ContainerUnlocked/UnlockedSkillsVBox/UnlockedWaterSkill")

[node name="Water" parent="HBoxContainer/VBoxContainer/AspectRatioContainer/CenterContainer/Center/Base/Water" node_paths=PackedStringArray("unlocked_skill_button") instance=ExtResource("1_ktm1k")]
layout_mode = 0
offset_left = -80.0
offset_right = -40.0
skill_name = "Water Mastery II"
skill_description = "+ 50% Mana"
skill_element = 2
skill_level = 2
unlocked_skill_button = NodePath("../../../../../../../ContainerUnlocked/UnlockedSkillsVBox/UnlockedWaterSkill")

[node name="Water" parent="HBoxContainer/VBoxContainer/AspectRatioContainer/CenterContainer/Center/Base/Water/Water" node_paths=PackedStringArray("unlocked_skill_button") instance=ExtResource("1_ktm1k")]
layout_mode = 0
offset_left = -80.0
offset_right = -40.0
skill_name = "Water Mastery III"
skill_description = "+ 100% Mana"
skill_element = 2
skill_level = 3
unlocked_skill_button = NodePath("../../../../../../../../ContainerUnlocked/UnlockedSkillsVBox/UnlockedWaterSkill")

[node name="VBoxContainer" type="VBoxContainer" parent="HBoxContainer/VBoxContainer/AspectRatioContainer"]
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 8

[node name="ZoomIn" type="Button" parent="HBoxContainer/VBoxContainer/AspectRatioContainer/VBoxContainer"]
custom_minimum_size = Vector2(32, 32)
layout_mode = 2
text = "+"

[node name="ZoomOut" type="Button" parent="HBoxContainer/VBoxContainer/AspectRatioContainer/VBoxContainer"]
custom_minimum_size = Vector2(32, 32)
layout_mode = 2
text = "-"

[node name="ResetCenterButton" type="Button" parent="HBoxContainer/VBoxContainer/AspectRatioContainer/VBoxContainer"]
custom_minimum_size = Vector2(32, 32)
layout_mode = 2
text = "X"

[node name="Background" type="ColorRect" parent="HBoxContainer/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
color = Color(0, 0.157659, 0.347832, 1)

[node name="ContainerInfos" type="PanelContainer" parent="HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="Background" type="ColorRect" parent="HBoxContainer/ContainerInfos"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
color = Color(0, 0.157659, 0.347832, 1)

[node name="InfoVBox" type="VBoxContainer" parent="HBoxContainer/ContainerInfos"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
alignment = 2

[node name="VBoxInfos" type="VBoxContainer" parent="HBoxContainer/ContainerInfos/InfoVBox"]
layout_mode = 2

[node name="MarginContainer2" type="MarginContainer" parent="HBoxContainer/ContainerInfos/InfoVBox/VBoxInfos"]
layout_mode = 2
theme_override_constants/margin_top = 10

[node name="SkillName" type="Label" parent="HBoxContainer/ContainerInfos/InfoVBox/VBoxInfos"]
custom_minimum_size = Vector2(100, 75)
layout_mode = 2
label_settings = SubResource("LabelSettings_qo8s5")
horizontal_alignment = 1
autowrap_mode = 2

[node name="MarginContainer" type="MarginContainer" parent="HBoxContainer/ContainerInfos/InfoVBox/VBoxInfos"]
layout_mode = 2
theme_override_constants/margin_top = 10

[node name="SkillIcon" type="TextureRect" parent="HBoxContainer/ContainerInfos/InfoVBox/VBoxInfos"]
custom_minimum_size = Vector2(128, 128)
layout_mode = 2
expand_mode = 1
stretch_mode = 5

[node name="MarginContainer3" type="MarginContainer" parent="HBoxContainer/ContainerInfos/InfoVBox/VBoxInfos"]
layout_mode = 2
theme_override_constants/margin_top = 10

[node name="SkillDescription" type="Label" parent="HBoxContainer/ContainerInfos/InfoVBox/VBoxInfos"]
custom_minimum_size = Vector2(75, 75)
layout_mode = 2
label_settings = SubResource("LabelSettings_8hkcs")
horizontal_alignment = 1
autowrap_mode = 2

[node name="HBoxPoints" type="HBoxContainer" parent="HBoxContainer/ContainerInfos/InfoVBox"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 0.5
alignment = 1

[node name="TextureRect" type="TextureRect" parent="HBoxContainer/ContainerInfos/InfoVBox/HBoxPoints"]
custom_minimum_size = Vector2(64, 64)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
texture = ExtResource("4_khrgn")
expand_mode = 1

[node name="SkillPointsCounter" type="Label" parent="HBoxContainer/ContainerInfos/InfoVBox/HBoxPoints"]
layout_mode = 2

[node name="MarginContainer2" type="MarginContainer" parent="HBoxContainer/ContainerInfos/InfoVBox"]
layout_mode = 2
theme_override_constants/margin_top = 10

[connection signal="mouse_entered" from="HBoxContainer/VBoxContainer/AspectRatioContainer/CenterContainer" to="." method="_on_center_container_mouse_entered"]
[connection signal="mouse_exited" from="HBoxContainer/VBoxContainer/AspectRatioContainer/CenterContainer" to="." method="_on_center_container_mouse_exited"]
[connection signal="pressed" from="HBoxContainer/VBoxContainer/AspectRatioContainer/VBoxContainer/ZoomIn" to="." method="_on_zoom_in_pressed"]
[connection signal="pressed" from="HBoxContainer/VBoxContainer/AspectRatioContainer/VBoxContainer/ZoomOut" to="." method="_on_zoom_out_pressed"]
[connection signal="pressed" from="HBoxContainer/VBoxContainer/AspectRatioContainer/VBoxContainer/ResetCenterButton" to="." method="_on_reset_center_button_pressed"]
